---
title: Подготовка данных
linktitle: Подготовка данных
toc: true
type: docs
date: "2019-11-07T00:00:00Z"
draft: false
menu:
  import-data:
    name: Подготовка данных
    weight: 1

weight: 2
---



## «3олотое правило» для данных

Одним из ключевых этапов работы с платформой <span style="color:#2BA2E6">**AMRcloud**</span> является структурирование исходных данных.

{{% alert note %}}

Основные принципы организации данных можно сформулировать в виде следующих «золотых правил»:

1. Для каждого изолята – своя строка
2. 5 обязательных столбцов
3. Суффикс после генерического названия АМП
4. Столбцы с метаданными

{{% /alert %}}


## Что такое проект и набор данных

В рамках онлайн-платформы <span style="color:#2BA2E6">**AMRcloud**</span> пользователь может создавать различные проекты и наборы данных.

<u>Проект</u> - это структурный элемент приложения, который позволяет сгруппировать несколько наборов с данными по усмотрению пользователя. 

Проекты могут быть в ограниченном или публичном доступе. 

* Ограниченный доступ - определенное количество пользователей может работать с проектом. 
* Публичный доступ - просмотр возможен для любого пользователя.

<u>Набор(ы) данных</u> - основная единица в рамках проекта, содержит информацию с которой <span style="color:#2BA2E6">**AMRcloud**</span> осуществляет непосредственную работу.

Для создания проекта пользователю после входа в личный аккаунт следует нажать кнопку ***&plus;&nbsp;Новый проект*** в верхнем левом углу экрана.

{{< figure library="true" src="tutorials/import-data/new_project.png" title="Новый проект" numbered="true" lightbox="true" >}}

Во всплывающем окне пользователю предлагается заполнить поля **Название нового проекта** и **Подзаголовок проекта**.  
При постоянной работе с различными проектами рекомендуется использовать полностью уникальные или значимо отличающиеся между собой названия. Например, не ограничиваться вариантами *test1*, *test2*.  

**Подзаголовок проекта** может быть представлен ключевыми словами, которые поясняют название, при этом следует учесть ограничения: для названия каждого поля не более **255 символов**.

{{< figure library="true" src="tutorials/import-data/new_project2.png" title="Создание проекта" numbered="true" lightbox="true" >}}

Пользователь может работать с двумя типами проектов:

- **Мои проекты**
- **Командные проекты**

**Мои проекты** - персональные проекты пользовательзователя.  
Доступ к данным единолично предоставлен пользователю, распространение данных реализуется с помощью генерации ссылок.

**Командные проекты** - для работы с такими проектами формируется команда. 
При этом пользователь может быть *администратором* команды (т.е. ее создателем) или *участником* команды, т.е. пользователем, приглашенным администратором команды.

В рамках проекта пользователь создает несколько наборов данных или сетов. Переходя в выбранный проект, следует нажать ***+ Новый набор данных***. 

Во всплывающем окне пользователю предлагается заполнить поля **Название нового набора** и **Подзаголовок нового набора**.

При постоянной работе с несколькими наборами данных в рамках одного проекта рекомендуется использовать понятные,
полностью уникальные или значимо отличающиеся между собой названия. 
Например, не ограничиваться вариантами *test1*, *test2*.

**Подзаголовок нового набора** может быть представлен ключевыми словами, которые поясняют название, при этом следует учесть ограничения: для названия каждого поля не более **255 символов**. 

{{< figure library="true" src="tutorials/import-data/new_project3.png" title="Создание набора данных" numbered="true" lightbox="true" >}}

После присвоения имени для проекта и набора данных пользователь может приступить к непосредственной загрузке. Для этого открыть необходимый проект, нажать левой кнопкой мыши на необходимый набор данных и нажать кнопку **"Редактировать набор данных".**

Для каждого набора данных следует пройти 5 шагов (этапов).

## Рекомендации к табличным данным

В качестве обобщенных рекомендаций к исходным табличным данным предложен пункт **Важная информация**. Последовательно изложены ключевые требования. В конце страницы предложен образец таблицы, который можно использовать для редактирования исходных пользовательских данных.

Разберем основные требования к данным, по пунктам. Для этого скачаем образец данных, который расположен в нижнем левом углу экрана.

{{< figure library="true" src="tutorials/import-data/example.png" title="Скачивание образца данных" numbered="true" lightbox="true" >}}

### Основные требования

Чтобы работать с <span style="color:#2BA2E6">**AMRcloud**</span> необходимо привести данные к единому формату.

1.  Таблица должна быть плоской. Это означает, что она состоит из столбцов и строк в которых *нет дополнительных разделений - иерархий* (нет подстрок или разделенных столбцов)

{{< figure library="true" src="tutorials/import-data/row_column.png" title="Структура таблицы" numbered="true" lightbox="true" >}}

2. Для прочтения необходимых наименований показателей платформа использует первую строку, поэтому она должна содержать имена столбцов (заголовочная строка).

{{< figure library="true" src="tutorials/import-data/name.png" title="Заголовочная строка таблицы" numbered="true" lightbox="true" >}}

3. Таблица должна содержать 5 видов обязательных столбцов:

- Идентификатор изолята (ID_изолята) 
- Название вида микроорганизма 
- Название группы микроорганизмов
- Дата
- Результаты определения чувствительности к антимикробным препаратам (АМП)

{{< figure library="true" src="tutorials/import-data/mandatory.png" title="Обязательные столбцы таблицы" numbered="true" lightbox="true" >}}

### Идентификатор изолята

В качестве идентификатора изолята  допустимо использовать неуникальные номера, они могут быть буквенными или числовыми.

### Вид микроорганизма

Для автоматической и быстрой интерпретации результатов <span style="color:#2BA2E6">**AMRcloud**</span> использует полные названия видов микроорганизмов.

Поэтому **Название вида микроорганизма** должно быть полное, сокращения не допустимы.


> **Правильно:**
>
> Staphylococcus aureus, Streptococcus pneumoniae
> 
> **Неправильно:**
>
> S. aureus, S. pneumoniae
> 

### Группа микроорганизма

**Название группы микроорганизмов** может быть сокращено, но сокращения необходимо сделать стандартными (одинаковыми по всему столбцу).

> **Правильно:**
>
> Enterobacterales, Staphylococ, Staphylococ (сокращенные названия -  стандартизированы)
> 
> **Неправильно:**
>
> Неправильно: Enterobac, Staph, Staphyl, Staphylococ (сокращенные названия нестандартизированы)

### Дата

Алгоритм, работающий с временными параметрами, определит любой стандартный вариант написания даты.

Главным условием является универсальность оформления.


> **Правильно:**
>
> 12.08.2018, 20.05.2017, 16.03.2014 (единое оформление ДД.ММ.ГГГГ)
> 
> **Неправильно:**
>
> 12.08.2018, 20/05/19, 03/16/2014 (разное оформление ДД.ММ.ГГГГ, ДД/ММ/ГГ,ММ/ДД/ГГГГ)

{{< figure library="true" src="tutorials/import-data/data.png" title="Формат дат" numbered="true" lightbox="true" >}}


### Результаты определения чувствительности к антимикробным препаратам (АМП)

Включает все возможные варианты:

- Значения минимальных подавляющих концентраций (МПК) - мг/л
- Диаметры зон подавления роста - мм
- Категории чувствительности (S/I/R) - значения заранее определены пользователем

При названии столбцов с результатами определения чувствительности необходимо соблюдать правила:

1.Название антимикробного препарата на *английском языке*, *полностью, без сокращений*
Список допустимых названий АМП доступен внизу страницы.

{{< figure library="true" src="tutorials/import-data/list_antib.png" title="Список допустимых антибиотиков" numbered="true" lightbox="true" >}}

2.Обязательно указывать идентифицирующий суффикс, чтобы осуществить автоматическую интерпретацию результатов

|                                                 |                                               |
|:------------------------------------------------|:---------------------------------------------:|
|**Значения минимальных подавляющих концентраций**| _**mic**                                      |
|**Диаметры зон подавления роста**                | _**dd**                                      |
|**Категории чувствительности**                   | _**sir**                                      |

> **Пример:**
>
> tobramycin_sir, tetracycline_sir, amoxicillin-clavulanic acid_mic, daptomycin_dd


{{% alert note %}}
На заметку!

Антибактериальные препараты с оценкой по "особым" критериям интерпретации (пользовательские категории S/I/R) и/или со значениями *ECOFF* могут быть записаны следующим образом:

{{% /alert %}}

> **Пример:**
>
> meropenem_ecoff_sir, moxifloxacin_clsi_sir, marbofloxacin_clsi_sir

{{% alert warning %}}

Важно!

* **Значения минимальных подавляющих концентраций** - в мг/л.

    - Значения должны быть числовыми 
    - Нечисловые значения, содержащие выражения, такие как **`<= ...`** или **`> ...`** или **`>= ...`** , будут преобразованы в **числовые** 
    - Символы **`<=`** и **`>=`** перед числами - игнорируются; числа после символа **`>`** будут умножены на 2

* **Диаметры зон подавления роста** - измеряются в мм. Значения - любые целые числа, больше или равные 6.
 
* **Категории чувствительности**  - S/I/R. Категория чувствительности только одна.

{{% /alert %}}

> **Правильно:**
>
> S, S, R (категория чувствительности 1 для каждого изолята)
> 
> **Неправильно:**
>
> S+I, S+I, I+R (больше 1 категории чувствительности для каждого изолята)

### Дополнительные столбцы

**Дополнительные столбцы** - заполнение столбцов не является обязательным

1. Географические данные
   - Географические объекты (Город, область, страна и т.д.)
   - Широта 
   - Долгота
2. Метаданные (текстовые)
3. Метаданные (числовые)
4. Маркеры (генетические маркеры резистентности, особые фенотипы и/или факторы вирулентности)


**Географические данные**

Географические объекты могут включать название города, области, страны. 

Для эффективного подстраивания результатов к практической деятельности пользователь может выбрать более подробные адресные данные (например, корпус ЛПУ).
Основные требования и рекомендации представлены в разделе "Геокодирование".

*Широта* - значения при возможности пользователь может указать. При наличии столбца с географическими объектами модуль "Геокодирование" автоматически осуществит расстановку координат.

*Долгота* - значения при возможности пользователь может указать. При наличии столбца с географическими объектами модуль "Геокодирование" автоматически осуществит расстановку координат.

**Метаданные (текстовые)**

Пользователь может выбрать **до 10** показателей в формате "текстовые данные" (если в таблице есть столбец с названием географических объектов, рекомендуется его также включать). 

Например, локализация инфекции, отделение, клинический материал.

Кроме того, среди данных категорий могут быть включены индивидуальные характеристики пациента (например, столбец с категорией "Фебрильная лихорадка"). Рекомендованые обозначения: "Да", "Нет", "Неприменимо".

**Метаданные (числовые)**

Пользователь может выбрать **1** показатель в формате "числовые данные".

Например, возраст или вес пациента.

**Маркеры**

- Общее количество маркеров неограничено
- Создание пользователем собственной "группировки маркеров"
- Генетические маркеры, особые фенотипы, факторы вирулентности

При расстановке показателей по генетическим маркерам и особым фенотипам рекомендованы следующие значения:

1. Поиск определенного генетического маркера или особого фенотипа **проводился, результат отрицательный** : "Не обнаружено"
2. Поиск определенного генетического маркера или особого фенотипа **не проводился** : "Не определено"
3. Поиск определенного генетического маркера или особого фенотипа **проводился, результат положительный** : "OXA-48", "KPC", "MRSA", "CTX-M-15" и т.д.
4. Поиск определенного генетического маркера или особого фенотипа для данного микроорганизма **неприменим**, т.е. генетический маркер или особый фенотип не характерен для данного микроорганизма: ячейка пустая

{{< figure library="true" src="tutorials/import-data/markers.png" title="Генетические маркеры" numbered="true" lightbox="true" >}}
